---
controller_projects_{{ env }}:
{%- for credential_type in credential_types -%}
{{ '\n' -}} - name: {{ credential_type.name }}
{%- if credential_type.description != '' -%} 
{{ '\n' -}}{{ '\t' -}}description: {{ credential_type.description }}
{%- endif -%}
{{ '\n' -}}{{ '\t' -}}inputs:
{{ '\t' -}}{{ '\t' -}}fields:
{%- for field in credential_type.inputs.fields -%}{{ '\n' -}}{{ '\t' -}}{{ '\t' -}}- type: {{ field.type }}
{{ '\t' -}}{{ '\t' -}}{{ '\t' -}}id: {{ field.id }}
{{ '\t' -}}{{ '\t' -}}{{ '\t' -}}label: {{ field.label }}
{%- if field.secret is defined and field.secret -%} 
{{ '\n' -}}{{ '\t' -}}{{ '\t' -}}{{ '\t' -}}secret: {{ field.secret }}
{%- endif -%}
{%- endfor -%}
{%- if credential_type.inputs.required is defined  -%} 
{{ '\n' -}}{{ '\t' -}}{{ '\t' -}}required: 
{%- for requirement in credential_type.inputs.required -%}
{{ '\n' -}}{{ '\t' -}}{{ '\t' -}}- {{ requirement }}
{%- endfor -%}
{%- endif -%}
{{ '\n' -}}{{ '\t' -}}injectors: 
{%- if credential_type.injectors.env is defined  -%} 
{{ '\n' -}}{{ '\t' -}}{{ '\t' -}}env:
{%- for env in credential_type.injectors.env -%}
{{ '\n' -}}{{ '\t' -}}{{ '\t' -}}{{ '\t' -}}{{ env }}: '{{ credential_type.injectors.env[env] }}'
{%- endfor -%}
{%- endif -%}
{%- if credential_type.injectors.file is defined  -%} 
{{ '\n' -}}{{ '\t' -}}{{ '\t' -}}file:
{%- for file in credential_type.injectors.file -%}
{{ '\n' -}}{{ '\t' -}}{{ '\t' -}}{{ '\t' -}}{{ file }}: '{{ credential_type.injectors.file[file] }}'
{%- endfor -%}
{%- endif -%}
{%- if credential_type.injectors.extra_vars is defined  -%} 
{{ '\n' -}}{{ '\t' -}}{{ '\t' -}}extra_vars:
{%- for extra_var in credential_type.injectors.extra_vars -%}
{{ '\n' -}}{{ '\t' -}}{{ '\t' -}}{{ '\t' -}}{{ extra_var }}: '{{ credential_type.injectors.extra_vars[extra_var] }}'
{%- endfor -%}
{%- endif -%}
{%- endfor -%}